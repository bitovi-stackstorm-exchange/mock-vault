version: 1.0

description: return a kv store key

input:
  - secret_name

tasks:
  fetch:
    action: core.noop
    next:
      - when: <% succeeded() and ctx().secret_name = "st2" %>
        do: get_st2_key
  get_st2_key:
    action: st2.kv.get
    key: <% ctx().secret_name %>
      